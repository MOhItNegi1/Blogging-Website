{% extends 'base.html' %}
{% block content %}
  <h2 style="text-align:center;">Profile: {{ user.username }}</h2>
  <div style="max-width:600px;margin:2rem auto;">
    <form method="POST" style="margin-bottom:2rem;">
      <div style="margin-bottom:1rem;">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="{{ profile.name or '' }}" style="width:100%;padding:0.5rem;">
      </div>
      <div style="margin-bottom:1rem;">
        <label for="age">Age:</label>
        <input type="number" id="age" name="age" value="{{ profile.age or '' }}" style="width:100%;padding:0.5rem;">
      </div>
      <div style="margin-bottom:1rem;">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ profile.email or '' }}" style="width:100%;padding:0.5rem;">
      </div>
      <div style="margin-bottom:1rem;">
        <label for="phone_no">Phone No:</label>
        <input type="text" id="phone_no" name="phone_no" value="{{ profile.phone_no or '' }}" style="width:100%;padding:0.5rem;">
      </div>
      <div style="margin-bottom:1rem;">
        <label for="bio">Bio:</label>
        <textarea id="bio" name="bio" rows="3" style="width:100%;padding:0.5rem;">{{ profile.bio or '' }}</textarea>
      </div>
      <button type="submit" style="padding:0.5rem 1.5rem;background:#222;color:#ffd700;border:none;border-radius:4px;">Save</button>
    </form>
    <h3>Your Posts</h3>
    {% if posts %}
      <ul style="list-style:none;padding:0;">
        {% for post in posts %}
          <li style="background:#f7f7f7;margin-bottom:1rem;padding:1rem 1.5rem;border-radius:6px;">
            <a href="{{ url_for('post.post_detail', post_id=post.id) }}" style="font-weight:bold;">{{ post.title }}</a>
            {% if post.is_published %}
              <span style="color:green;">(Published)</span>
            {% else %}
              <span style="color:#888;">(Draft)</span>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p style="color:#888;">You haven't written any posts yet.</p>
    {% endif %}
  </div>
{% endblock %}